{% extends "base_search.html" %}

{% block content %}
    <h2>Dining Options</h2>
    <br>
    
    <h4>Restaurants</h4>
    <!-- List of restaurants -->
    {% if restaurantsRestaurant %}
      {% for restaurant in restaurantsRestaurant %}
      <a id="restCard" href="{{ restaurant.get_absolute_url }}">
        <div class="card mb-3" style="max-width: 1000px;">
          <div class="row no-gutters">
            <div class="col-md-3">
              <img src={{ restaurant.get_image }} class="card-img" style="margin-left: auto; max-width: 200px; padding: 10px;">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{ restaurant.name }}</h5>
                {% if restaurant.get_reviews == 0 %}
                <p class="card-text" style="color: gray;"> No user reviews yet...</p>
                {% endif %}

                {% if restaurant.get_reviews < 2 and restaurant.get_reviews > 0%}
                  <p class="card-text"style="color: gray;"> Average user rating: <span style="color: #ff6666">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                
                {% if restaurant.get_reviews > 2 and restaurant.get_reviews < 4 %}
                  <p class="card-text" style="color: gray;"> Average user rating: <span style="color: #ffcc00">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                
                {% if restaurant.get_reviews > 4 %}
                  <p class="card-text" style="color: gray;"> Average user rating: <span style="color: #00cc66">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                <p class="card-text"><small>{{restaurant.description}}</small></p>
              </div>
            </div>
          </div>
        </div>
      </a>
      {% endfor %}
    {% else %}
      <p>There are no restaurants</p>
    {% endif %}


    <br>
    <h4>CafÃ©s</h4>
    <!-- List of cafes -->
    {% if restaurantsCafe %}
      {% for restaurant in restaurantsCafe %}
      <a id="restCard" href="{{ restaurant.get_absolute_url }}">
        <div class="card mb-3" style="max-width: 1000px;">
          <div class="row no-gutters">
            <div class="col-md-3">
              <img src={{ restaurant.get_image }} class="card-img" style="margin-left: auto; max-width: 200px; padding: 10px;">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{ restaurant.name }}</h5>
                {% if restaurant.get_reviews == 0 %}
                <p class="card-text" style="color: gray;"> No user reviews yet...</p>
                {% endif %}

                {% if restaurant.get_reviews < 2 and restaurant.get_reviews > 0%}
                  <p class="card-text"style="color: gray;"> Average user rating: <span style="color: #ff6666">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                
                {% if restaurant.get_reviews > 2 and restaurant.get_reviews < 4 %}
                  <p class="card-text" style="color: gray;"> Average user rating: <span style="color: #ffcc00">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                
                {% if restaurant.get_reviews > 4 %}
                  <p class="card-text" style="color: gray;"> Average user rating: <span style="color: #00cc66">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                <p class="card-text"><small>{{restaurant.description}}</small></p>
              </div>
            </div>
          </div>
        </div>
      </a>
      {% endfor %}
    {% else %}
      <p>There are no cafes</p>
    {% endif %}

  
    <br>
    <h4>Markets</h4>
    <!-- List of markets -->
    {% if restaurantsMarket %}
      {% for restaurant in restaurantsMarket %}
      <a id="restCard" href="{{ restaurant.get_absolute_url }}">
        <div class="card mb-3" style="max-width: 1000px;">
          <div class="row no-gutters">
            <div class="col-md-3">
              <img src={{ restaurant.get_image }} class="card-img" style="margin-left: auto; max-width: 200px; padding: 10px;">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{ restaurant.name }}</h5>
                {% if restaurant.get_reviews == 0 %}
                <p class="card-text" style="color: gray;"> No user reviews yet...</p>
                {% endif %}

                {% if restaurant.get_reviews < 2 and restaurant.get_reviews > 0%}
                  <p class="card-text"style="color: gray;"> Average user rating: <span style="color: #ff6666">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                
                {% if restaurant.get_reviews > 2 and restaurant.get_reviews < 4 %}
                  <p class="card-text" style="color: gray;"> Average user rating: <span style="color: #ffcc00">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                
                {% if restaurant.get_reviews > 4 %}
                  <p class="card-text" style="color: gray;"> Average user rating: <span style="color: #00cc66">{{ restaurant.get_reviews }} </span></p>
                {% endif %}
                <p class="card-text"><small>{{restaurant.description}}</small></p>
              </div>
            </div>
          </div>
        </div>
      </a>
      {% endfor %}
    {% else %}
      <p>There are no markets</p>
    {% endif %}

{% endblock %}